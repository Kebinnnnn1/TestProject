{% extends 'accounts/base.html' %}

{% block title %}Dashboard â€” AuthApp{% endblock %}

{% block content %}
<div class="container" style="padding: 3rem 1rem;">
    <!-- Header -->
    <div class="mb-5">
        <div class="d-flex align-items-center gap-3 mb-2">
            <div
                style="width: 52px; height: 52px; background: linear-gradient(135deg, #6366f1, #8b5cf6); border-radius: 14px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <i class="bi bi-person-fill" style="font-size: 1.4rem; color: #fff;"></i>
            </div>
            <div>
                <p style="color: #94a3b8; margin: 0; font-size: 0.88rem;">Logged in as</p>
                <h1 style="font-size: 1.8rem; font-weight: 700; color: #fff; margin: 0;">{{ user.username }}</h1>
            </div>
        </div>
    </div>

    <div class="row g-4">
        <!-- Profile Card -->
        <div class="col-md-6 col-lg-4">
            <div class="card-glass p-4 h-100">
                <div class="d-flex align-items-center gap-2 mb-4">
                    <i class="bi bi-person-circle" style="color: #a5b4fc; font-size: 1.2rem;"></i>
                    <h5 style="color: #fff; margin: 0; font-weight: 600;">Profile</h5>
                </div>
                <div class="mb-3">
                    <p
                        style="color: #64748b; font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 0.05em;">
                        Username</p>
                    <p style="color: #fff; font-weight: 500; margin: 0;">{{ user.username }}</p>
                </div>
                <div class="mb-3">
                    <p
                        style="color: #64748b; font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 0.05em;">
                        Email</p>
                    <p style="color: #fff; font-weight: 500; margin: 0;">{{ user.email }}</p>
                </div>
                <div class="mb-3">
                    <p
                        style="color: #64748b; font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 0.05em;">
                        Status</p>
                    {% if user.is_verified %}
                    <span class="badge-verified"><i class="bi bi-patch-check-fill me-1"></i>Verified</span>
                    {% else %}
                    <span class="badge-unverified"><i class="bi bi-exclamation-circle me-1"></i>Unverified</span>
                    {% endif %}
                </div>
                <div>
                    <p
                        style="color: #64748b; font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 0.05em;">
                        Member Since</p>
                    <p style="color: #fff; font-weight: 500; margin: 0;">{{ user.date_joined|date:"N j, Y" }}</p>
                </div>
            </div>
        </div>

        <!-- Account Info -->
        <div class="col-md-6 col-lg-4">
            <div class="card-glass p-4 h-100">
                <div class="d-flex align-items-center gap-2 mb-4">
                    <i class="bi bi-shield-check" style="color: #a5b4fc; font-size: 1.2rem;"></i>
                    <h5 style="color: #fff; margin: 0; font-weight: 600;">Account Security</h5>
                </div>
                <div class="mb-3">
                    <p
                        style="color: #64748b; font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 0.05em;">
                        Account Active</p>
                    {% if user.is_active %}
                    <span class="badge-active"><i class="bi bi-check-circle-fill me-1"></i>Active</span>
                    {% else %}
                    <span class="badge-inactive"><i class="bi bi-x-circle-fill me-1"></i>Inactive</span>
                    {% endif %}
                </div>
                {% if user.is_staff %}
                <div class="mb-3">
                    <p
                        style="color: #64748b; font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 0.05em;">
                        Role</p>
                    <span class="badge-staff"><i class="bi bi-star-fill me-1"></i>Staff / Admin</span>
                </div>
                {% endif %}
                <div class="mb-3">
                    <p
                        style="color: #64748b; font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 0.05em;">
                        Last Login</p>
                    <p style="color: #fff; font-weight: 500; margin: 0;">{{ user.last_login|date:"N j, Y g:i A" }}</p>
                </div>
                <div>
                    <p
                        style="color: #64748b; font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 0.05em;">
                        Password</p>
                    <p style="color: #34d399; font-weight: 500; margin: 0;"><i class="bi bi-lock-fill me-1"></i>Hashed
                        (PBKDF2)</p>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="col-md-12 col-lg-4">
            <div class="card-glass p-4 h-100">
                <div class="d-flex align-items-center gap-2 mb-4">
                    <i class="bi bi-grid" style="color: #a5b4fc; font-size: 1.2rem;"></i>
                    <h5 style="color: #fff; margin: 0; font-weight: 600;">Quick Actions</h5>
                </div>
                <div class="d-flex flex-column gap-2">
                    {% if user.is_staff or user.is_superuser %}
                    <a href="{% url 'admin_dashboard' %}" class="btn"
                        style="background: rgba(99,102,241,0.1); border: 1px solid rgba(99,102,241,0.3); color: #a5b4fc; border-radius: 10px; text-align: left; padding: 0.75rem 1rem; font-weight: 500; transition: background 0.2s;">
                        <i class="bi bi-speedometer2 me-2"></i> Admin Dashboard
                    </a>
                    <a href="/django-admin/" class="btn"
                        style="background: rgba(99,102,241,0.1); border: 1px solid rgba(99,102,241,0.3); color: #a5b4fc; border-radius: 10px; text-align: left; padding: 0.75rem 1rem; font-weight: 500; transition: background 0.2s;"
                        target="_blank">
                        <i class="bi bi-gear me-2"></i> Django Admin
                    </a>
                    {% endif %}
                    <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="btn w-100"
                            style="background: rgba(239,68,68,0.1); border: 1px solid rgba(239,68,68,0.3); color: #f87171; border-radius: 10px; text-align: left; padding: 0.75rem 1rem; font-weight: 500; transition: background 0.2s;">
                            <i class="bi bi-box-arrow-right me-2"></i> Sign Out
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}